{%- assign tag = ""                            -%}

{%- assign primes = primes | push: num         -%}
{%- assign order = primes | size               -%}

{%- if primes contains order                   -%}
{%-   assign parts = parts | push: order       -%}
{%-   assign width = parts | size              -%}

{%-   if parts contains width                  -%}
{%-     assign bond = bond | push: width       -%}
{%-     assign weight = bond | size            -%}

{%-     if bond contains weight                -%}
{%-       assign arm = arm | push: weight      -%}
{%-	       assign expanse = arm | size         -%}

{%-	       if arm contains expanse             -%}
{%-	         assign id = id | push: expanse    -%}
{%-	         assign property = id | size       -%}

{%-	       endif                               -%}
{%-	     endif                                 -%}
{%-   endif                                    -%}

{%-   include core/node.liquid                 -%}

{%-   for key in keys                           %}
{%-     if width == key                        -%}
{%-       assign node_sequence = "branch"      -%}
{%-       include core/_node.liquid            -%}
{%-     endif                                  -%}
{%-   endfor                                   -%}

{%-   assign array = '' | split: ','           -%}
{%-   assign array = array | push: parts       -%}
{%-   assign array = array | push: bond        -%}
{%-   assign array = array | push: arm         -%}
{%-   assign array = array | push: id          -%}

{%-         assign tes = array[key_layer] | size      -%}
{%-     if tes == 10     -%}

{%-         assign node_sequence = "main"      -%}
{%-         assign key_layer = key_layer | plus: 1   -%}
		
{%-         include core/_node.liquid          -%}
{%-     endif                                  -%}

{%- endif                                      -%}

