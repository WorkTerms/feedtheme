{%- assign tag = "[]"                                -%}

{%- assign primes = primes | push: num               -%}
{%- assign order = primes | size                     -%}

{%- if primes contains order                         -%}
{%-   unless parts                                   -%}
{%-     assign parts = '' | split: ','               -%}
{%-   endunless                                      -%}
{%-   assign parts = parts | push: order             -%}
{%-   assign width = parts | size                    -%}

{%-   if _keys contains width                        -%}
{%-     assign tag = "[]*"                           -%}
{%-   endif                                          -%}

{%-   if parts contains width                        -%}
{%-     unless bond                                  -%}
{%-       assign bond = '' | split: ','              -%}
{%-     endunless                                    -%}
{%-     assign bond = bond | push: width             -%}
{%-     assign weight = bond | size                  -%}

{%-     if bond contains weight                      -%}
{%-       unless arm                                 -%}
{%-         assign arm = '' | split: ','             -%}
{%-       endunless                                  -%}
{%-       assign arm = arm | push: weight            -%}
{%-	      assign expanse = arm | size                -%}

{%-	      if arm contains expanse                    -%}
{%-         include core/bond.liquid                 -%}
{%-	      endif                                      -%}
{%-	    endif                                        -%}
{%-   endif                                          -%}

{%-   include core/_parts.liquid                     -%}

{%- endif                                            -%}
