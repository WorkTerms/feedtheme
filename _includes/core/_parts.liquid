{%- assign details = '('
       | append: bond
       | append: ';'
       | append: lexer
       | append: ';'
       | append: parser
       | append: ';'
       | append: syntax
       | append: ')'
       | append: grammar                      -%}

{%- for prime in primes                       -%}
{%-   assign loop = forloop.index             -%}
{%-   if id <= prime                          -%}
{%-     break                                 -%}
{%-   endif                                   -%}
{%- endfor                                    -%}

{%- for item in array reversed                -%}
{%-   assign lead = item | size | minus: 1    -%}
{%-   assign prime = primes[lead]             -%}
{%-   if forloop.first                        -%}
{%-     assign stage = '['                    -%}
{%-   else                                    -%}
{%-     assign stage = stage | append: ','    -%}
{%-   endif                                   -%}
{%-   assign stage = stage | append: prime    -%}
{%- endfor                                    -%}
{%- assign stage = stage | append: ']'        -%}

{%- include core/node.liquid                  -%}
