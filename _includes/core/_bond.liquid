{%- assign index = include.index | default: 0   -%}

{%- unless prop                                 -%}
{%-   assign prop = include.prop                -%}
{%- endunless                                   -%}

{%- unless exp[index]                           -%}

{%-   assign var = '' | split: ','              -%}
{%-   assign var = var | push: prop             -%}
{%-	  assign exp = exp | push: var              -%}

{%- else  -%}

{%-   assign var = exp[index]                   -%}
{%-   assign var = var | push: prop             -%}

{%-   assign dummy = '' | split: ','            -%}
{%-   for item in exp                           -%}
{%-     assign dummy = dummy | push: item       -%}
{%-   endfor                                    -%}

{%-   assign exp = '' | split: ','              -%}
{%-   for item in dummy                         -%}
{%-	    if forloop.index0 == index              -%}
{%-	      assign exp = exp | push: var  -%}
{%-     else                                    -%}
{%-       assign exp = exp | push: item -%}
{%-     endif                                   -%}
{%-   endfor                                    -%}

{%- endunless                                   -%}

{%-	assign prop = var | size                    -%}
{%-	if var contains prop                        -%}

{%-   assign index = index | plus: 1            -%}
{%-   include core/_bond.liquid index=index     -%}

{%- endif                                       -%}
